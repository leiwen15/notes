b# Vue 模板语法
## 两大类
+ 1.插值语法
>+ 功能：用于解析标签体内容
>+ 写法：{{ xxx }}，xxx 是js表达式，且可以直接读取到data中的所有属性
+ 2.指令语法
>+ 功能：用于解析标签（包括：标签属性、标签体内容、绑定事件···）
>+ 举例：v-bind:href="xxx" 或者简写为 :href="xxx"，xxx 同样要写js表达式，且可以直接读取到data中的所有属性
>+ 备注：Vue中有很多指令，且形式都是 v-???

## 数据绑定
+ 单向数据绑定
>+ v-bind
```html
<input type="text" v-bind:value="name"></br>
<input type="text" :value="name"></br>
```
+ 双向数据绑定
>+ v-model
```html
<input type="text" v-model:value="name"></br>
<input type="text" v-model="name"></br>
```
>+ 页面中的数据发生改变，则vue中的数据也会发生改变
>+ v-model 只能应用在表单之中，输入类数据（input、select等）
>+ v-model:value 可以简写为 v-model，因为 v-model 默认收集的就是 value 值

## el 与 data 的两种写法
### el 的两种写法
+ el 直接挂载
+ $mount 挂载
```html
<div>
    <h1>hell, {{name}}</h1>
</div>
```
```javascript
const v = new Vue({
    // 可以使用 el 来挂载数据
    // el: '#root',
    data: {
        name: 'Tom'
    }
})
console.log(v)
// 使用 $mount 来挂载数据
v.$mount('#root')
```
### data 的两种写法
+ 对象式
+ 函数式
```javascript
const v = new Vue({
    el: '#root',
    // 对象式
    // data: {
    //     name: 'Tom'
    // }
    // 函数式
    // 之后用到组件时，必须使用函数式
    data:function(){
        return {
            name: "Tom"
        }
    }
    // 这么写，也可以
    // data(){
    //     return {
    //         name: "Tom"
    //     }
    // }
    // 但是，不可以写成箭头函数，因为其 this 会指向 window，而不是 vue 实例
    // data:()=>{
    //     return {
    //         name: "Tom"
    //     }
    // }
})

```
## MVVM模型
+ M：model，对应 data 中的数据
+ V: view，模板
+ VM: view model，视图模型，vue 实例对象
>+ data 中所有的属性，最后都出现在了 vm 身上
>+ vm身上所有的属性 以及 vue 原型上所有属性，在vue模板中都可以直接使用

## 数据代理
### 底层使用的 Object.defineProperty
+ 作用：给对象添加属性
```javascript
let person = {
    name: 'tom',
    sex: 'male'
}
Object.defineProperty(person, 'age', {
    value: 18
})
console.log(person)
console.log(Object.keys(person)) // 只有 name，sex，此时age 是不可以枚举的

Object.defineProperty(person, 'age', {
    value: 18,
    enumerable: true, // 控制属性是否可以枚举，默认值是 false
    writable: true, // 控制属性是否可以被修改，默认值是 false
    configurable: true, // 控制属性是否可以被删除，默认值是 false
})
```
```javascript
let number = 18
let person = {
    name: 'tom',
    sex: 'male',
    // age: number
}
Object.defineProperty(person, 'age', {
    // 当有人读取person的age属性时，get函数就会被调用，且返回值就是age的值
    get(){
        return number
    }
    // 当有人修改了person的age属性时，set函数就会被调用，且会受到修改的具体值
    set(value){
        number = value
    }
})
console.log(person)
```
### 数据代理
+ 通过一个对象代理对另一个对象中的竖向的操作：读/写
+ Vue中的数据代理：
>+ 通过VM对象来代理data对象中的属性的操作（读/写）
+ Vue中数据代理的好处
>+ 更加方便的操作data中的数据
+ 基本原理
>+ 通过Object.defineProperty()把data对象中所有属性添加到vm上
>+ 为每一个添加到vm上的属性，都指定一个 getter/setter
>+ 在 getter/setter 内部去操作（读/写）data中对应的属性
![avatar](./pictures/data_agent.png)
### 事件处理
```html
<html>
    <button @click="showInfo">点我提示信息</button>
    <button @click="showInfo2($event, 66)">点我提示信息2</button>
</html>
```
```javascript
new Vue({
    el: '#root',
    data:{
        name: 'hello'
    },
    methods:{
        // 因此，在vue中写函数，用普通函数，不用箭头函数
        showInfo(event){
            alert(event.target.innerHtml) // 此处的this 是 vm
        },
        // showInfo(event)=>{
        //     alert(event.target.innerHtml) // 此处的this 是 this
        // }
        showInfo2(event, number){
            console.log(event, number)
        }
    }

})
```
